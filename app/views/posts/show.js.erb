$('#commentarea').append('<%= escape_javascript(render(:partial => "shared/comment", collection: @comments)).html_safe %>');
<% if @comments.last_page? %>
$('.pagination').hide();
<% else %>
$('.pagination').replaceWith('<%= escape_javascript(paginate @comments).html_safe %>');
<% end %>